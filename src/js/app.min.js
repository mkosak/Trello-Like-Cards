!function(a){"use strict";window.app={main:function(){if(app.page=a("section.main .row-fluid"),window.localStorage.getItem("cards")){var b=JSON.parse(app.utils.getData("cards"));b.forEach(function(a,c){app.loadCards(b[c].id,b[c].name,b[c].desc)}),a(".panel").not(":first").removeClass("placeholder")}app.events.init(),app.utils.pageLoad(!1)},loadCards:function(b,c,d){var e=a(".panel").eq(0).clone();e.attr("data-id",b),e.find(".card-label").val(c),e.find(".card-desc").val(d),app.page.append(e[0])}},a(window).on("load",app.main)}(jQuery),function(a){"use strict";app.utils={pageLoad:function(b){var c=a("#loader"),d=function(){c.addClass("active"),c.css("display","table").animate({opacity:1},1500,function(){})},e=function(){c.removeClass("active"),c.animate({opacity:.01},1500,function(){a(this).css("display","none")})};b?(a("body").addClass("page-load"),d()):(a("body").removeClass("page-load"),window.setTimeout(function(){e()},1e3))},saveData:function(a,b){var c=JSON.stringify(b);"undefined"!=typeof window.localStorage?window.localStorage.setItem(a,c):app.utils.showAlert("danger","<strong>localStorage</strong> is not supported by your browser")},getData:function(a){if("undefined"!=typeof window.localStorage){var b=JSON.parse(window.localStorage.getItem(a));if(void 0!==b)return b}else app.utils.showAlert("danger","<strong>localStorage</strong> is not supported by your browser")},showAlert:function(a,b){if(app.page.jqElement=app.page.find(".alert"),app.page.jqElement.remove(),app.page.jqElement=null,void 0===(a||b))var a="danger",b="<strong>Oh snap!</strong> Something goes wrong.";app.page.jqElement='<div class="alert alert-'+a+'" role="alert">'+b+"</div>",app.page.prepend(app.page.jqElement)},unloadImages:function(a){a.find("img").attr("src","/images/blank.png")}}}(jQuery),function(){"use strict";var a=function(){};a.edit=function(b){if(b.length>0){var c={id:parseInt(b.closest(".panel").attr("data-id")),name:b.closest(".panel").find("input[name=card-label]").val(),desc:b.closest(".panel").find("textarea[name=card-desc]").val()};b.closest(".panel").removeClass("placeholder"),a.save(c,"edit")}},a.add=function(){var b=app.page.find(".panel:last").clone();b[0].dataset.id=1*b[0].dataset.id+1,b.find(".card-label").val("Add card name"),b.find(".card-desc").val("Add card description"),b.addClass("placeholder"),app.page.append(b[0]);var c={id:parseInt(b[0].dataset.id),name:b.find(".card-label").val(),desc:b.find(".card-desc").val()};a.save(c,"add")},a.save=function(a,b){var c=JSON.parse(app.utils.getData("cards"));c||(c=[]),"edit"==b?c.length>0?(c[a.id-1].name=a.name,c[a.id-1].desc=a.desc):c.push({id:1,name:a.name,desc:a.desc}):c.push(a),c=JSON.stringify(c),app.utils.saveData("cards",c)},a.remove=function(a){if(void 0!==a.closest(".panel")){var b=parseInt(a.closest(".panel").attr("data-id")),c=JSON.parse(app.utils.getData("cards"));for(var d in c)c[d].id==b&&c.splice(d,1);a.closest(".panel").remove(),c=JSON.stringify(c),app.utils.saveData("cards",c)}},app.card=a}(jQuery),function(a){"use strict";var b=function(){};b.primary=function(){var b=a(this).attr("data-event")||"click";"alert"==b&&app.utils.showAlert(),"add-card"==b&&app.card.add()},b.init=function(){a(document).on("click","a",function(a){"_blank"!=a.currentTarget.target?a.preventDefault():Tracker.trackOffsiteLink(this.href)}),app.page.on("click","a, button",b.primary),app.page.on("focus","input[name=card-label], textarea[name=card-desc]",function(){a(this).closest(".panel-body").toggleClass("editing"),a(this).val("")}),app.page.on("blur","input[name=card-label], textarea[name=card-desc]",function(){""==a(this).val()&&("card-label"==a(this).attr("name")&&a(this).val("Add card name"),"card-desc"==a(this).attr("name")&&a(this).val("Add card description")),app.card.edit(a(this),a(this).attr("name")),a(this).closest(".panel-body").toggleClass("editing")}),app.page.on("click",".delete",function(){app.card.remove(a(this))})},app.events=b}(jQuery);
//# sourceMappingURL=app.min.map